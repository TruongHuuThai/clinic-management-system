<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
  :root {
    --sidebar-collapsed-width: 70px; /* Kích thước khi thu gọn (chỉ hiện icon) */
    --sidebar-expanded-width: 260px; /* Kích thước khi mở rộng */
    --primary-color: #007bff;
    --text-color: #344767;
    --bg-hover: #e6f2ff;
    --transition-speed: 0.3s;
  }

  body {
    padding-top: 0 !important;
    /* QUAN TRỌNG: Chỉ chừa khoảng trống cho thanh icon nhỏ, 
       khi menu to ra nó sẽ phủ lên nội dung chứ không đẩy nội dung đi */
    padding-left: var(--sidebar-collapsed-width); 
    background-color: #f0f2f5;
    transition: padding-left var(--transition-speed) ease;
  }

  /* --- SIDEBAR CONTAINER --- */
  .sidebar-container {
    position: fixed;
    top: 0;
    left: 0;
    width: var(--sidebar-collapsed-width); /* Mặc định nhỏ */
    height: 100vh;
    background-color: #ffffff;
    border-right: 1px solid #e0e0e0;
    z-index: 1000; /* Đảm bảo nằm trên các thành phần khác */
    display: flex;
    flex-direction: column;
    transition: width var(--transition-speed) cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden; /* Ẩn phần chữ bị thừa khi thu nhỏ */
    box-shadow: 2px 0 5px rgba(0, 0, 0, 0.05);
  }

  /* --- HIỆU ỨNG HOVER ĐỂ MỞ RỘNG --- */
  .sidebar-container:hover {
    width: var(--sidebar-expanded-width); /* Mở rộng khi chuột trỏ vào */
    box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1); /* Tăng bóng đổ cho đẹp */
  }

  /* --- BRAND / LOGO --- */
  .sidebar-brand {
    height: 70px;
    display: flex;
    align-items: center;
    padding: 0; /* Reset padding để căn giữa icon */
    text-decoration: none;
    overflow: hidden;
    white-space: nowrap; /* Không cho xuống dòng */
  }

  .sidebar-brand i {
    min-width: var(--sidebar-collapsed-width); /* Chiều rộng cố định cho vùng chứa icon */
    text-align: center;
    font-size: 1.8rem;
    color: var(--primary-color);
  }

  .brand-text {
    opacity: 0; /* Ẩn chữ mặc định */
    transition: opacity 0.2s ease;
    font-size: 1rem;
    font-weight: 700;
    color: var(--primary-color);
    text-transform: uppercase;
    line-height: 1.2;
    padding-left: 10px;
  }

  /* Hiện chữ Brand khi hover vào sidebar */
  .sidebar-container:hover .brand-text {
    opacity: 1;
    transition-delay: 0.1s; /* Hiện chậm lại 1 chút cho mượt */
  }

  /* --- MENU ITEMS --- */
  .sidebar-menu {
    padding: 20px 10px; /* Padding nhỏ hơn để vừa khung hẹp */
    flex-grow: 1;
    overflow-y: auto;
    overflow-x: hidden; /* Chặn thanh cuộn ngang */
    display: flex;
    flex-direction: column;
    gap: 5px;
  }

  /* Ẩn thanh cuộn nhưng vẫn cuộn được */
  .sidebar-menu::-webkit-scrollbar {
    width: 0px; 
  }

  .nav-link-custom {
    display: flex;
    align-items: center;
    padding: 12px 0; /* Bỏ padding trái phải để căn chỉnh thủ công */
    color: #67748e !important;
    font-weight: 500;
    border-radius: 8px;
    text-decoration: none;
    transition: all 0.2s ease;
    white-space: nowrap; /* Giữ chữ trên 1 dòng */
    position: relative;
    height: 48px; /* Chiều cao cố định */
  }

  .nav-link-custom i {
    min-width: calc(var(--sidebar-collapsed-width) - 20px); /* Căn icon vào giữa cột thu gọn */
    text-align: center;
    font-size: 1.2rem;
    transition: transform 0.2s;
  }

  .link-text {
    opacity: 0;
    margin-left: 10px;
    transform: translateX(-10px);
    transition: all 0.2s ease;
  }

  .sidebar-container:hover .link-text {
    opacity: 1;
    transform: translateX(0);
  }
  .section-header {
    font-size: 0.75rem;
    text-transform: uppercase;
    color: #a0aec0;
    font-weight: 700;
    margin: 15px 0 5px 0;
    padding-left: 20px;
    white-space: nowrap;
    opacity: 0;
    transition: opacity 0.2s;
    height: 0; 
    overflow: hidden;
  }

  /* Hiện tiêu đề nhóm khi hover sidebar */
  .sidebar-container:hover .section-header {
    opacity: 1;
    height: auto; /* Trả lại chiều cao */
    margin: 15px 0 5px 0;
    transition-delay: 0.1s;
  }

  /* --- HOVER EFFECTS --- */
  .nav-link-custom:hover, .nav-link-custom.active {
    background-color: var(--bg-hover);
    color: var(--primary-color) !important;
  }
  
  .nav-link-custom:hover i {
    transform: scale(1.1);
  }

  /* --- FOOTER --- */
  .sidebar-footer {
    padding: 15px 0;
    text-align: center;
    border-top: 1px solid #f0f0f0;
    white-space: nowrap;
    overflow: hidden;
  }
  .sidebar-footer small {
    display: none; /* Ẩn text copyright khi thu nhỏ */
  }
  .sidebar-container:hover .sidebar-footer small {
    display: inline-block;
  }
</style>

<aside class="sidebar-container">
  <a href="/" class="sidebar-brand">
    <i class="fas fa-hospital-user"></i>
    <div class="brand-text">
      Phòng Khám<br />Thần Kinh
    </div>
  </a>

  <nav class="sidebar-menu">
    <a href="/" class="nav-link-custom">
      <i class="fas fa-home"></i> 
      <span class="link-text">Trang chủ</span>
    </a>

    <div class="section-header">Quản Lý Chính</div>

    <a href="/api/benh-nhan" class="nav-link-custom">
      <i class="fas fa-user-injured"></i>
      <span class="link-text">Bệnh Nhân</span>
    </a>
    <a href="/api/lich-hen" class="nav-link-custom">
      <i class="fas fa-calendar-alt"></i>
      <span class="link-text">Lịch Hẹn</span>
    </a>

    <div class="section-header">Y Tế & Dược</div>

    <a href="/api/thuoc" class="nav-link-custom">
      <i class="fas fa-pills"></i>
      <span class="link-text">Kho Thuốc</span>
    </a>
    <a href="/quan-ly/don-mau" class="nav-link-custom">
      <i class="fas fa-file-prescription"></i>
      <span class="link-text">Đơn Thuốc Mẫu</span>
    </a>
    <a href="/api/benh" class="nav-link-custom">
      <i class="fas fa-bacteria"></i>
      <span class="link-text">Danh Mục Bệnh</span>
    </a>
    <a href="/api/dich-vu-cls" class="nav-link-custom">
      <i class="fas fa-microscope"></i>
      <span class="link-text">Dịch vụ CLS</span>
    </a>

    <a href="/api/thong-ke" class="nav-link-custom">
      <i class="fas fa-microscope"></i>
      <span class="link-text">Thống kê</span>
    </a>
  </nav>

  <div class="sidebar-footer">
    <i class="fas fa-code" style="color: #adb5bd; font-size: 0.8rem"></i>
    <small style="color: #adb5bd; margin-left: 5px;">© 2025 HuuThaiDev</small>
  </div>
</aside>